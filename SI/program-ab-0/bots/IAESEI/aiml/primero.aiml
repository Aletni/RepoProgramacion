<?xml version="1.0" encoding="UTF-8"?>
<aiml version="2.0">

<!-- Regla 1-->
<category> 
<pattern> Hola * </pattern>
<template>Hola, que tal?</template>
</category> 

<!-- Regla 2-->
<category> 
<pattern> ^ que tal tu </pattern>
<template>Estoy  genial!!</template>
</category> 

<!-- Regla 3-->
<category> 
<pattern> ^ me llamo *  </pattern>
<template> Vale <set name="nombre"> <star index="2"/></set>,<get name="nombre"/> es un bonito nombre.
</template>
</category>


<!-- Regla 4-->
<category> 
<pattern> Hola  </pattern>
<template> Hola de nuevo,qué tal?</template>
</category>

<!-- Regla 5-->
<category> 
<pattern> Cual es tu edad  </pattern>
<template> Tengo <bot name="age"/> años</template>
</category>

<!-- Regla 6-->
<category> 
<pattern> Cual es mi nombre  </pattern>
<template> 
    <condition name="nombre">
    <li value="unknown">Aun no me has dicho tu nombre</li>
    <li>Tu nombre es <get name="nombre"/></li>
    </condition>
</template>
</category>

<!-- Regla 7-->
<category> 
<pattern> Mi color favorito es el *  </pattern>
<template>
<think><set var="color"><star/></set></think>
El <get var="color"/> es un color inapropiado en este lugar
</template>
</category>

<!-- Regla 8-->
<category> 
<pattern> * mi nombre  </pattern>
<template><template> <srai>Cual es mi nombre</srai></template></template>
</category>

<!-- Regla 9-->
<category> 
<pattern> Como me llamo  </pattern>
<template> <srai>Cual es mi nombre</srai></template>
</category>

<!-- Regla 10-->
<category> 
<pattern> es <set>color</set> un color  </pattern>
<template> Si, <star/> es un color.</template>
</category>

<!-- Regla 11-->
<category> 
<pattern> es * un color  </pattern>
<template> No, <star/> no es un color.</template>
</category>

<!-- Regla 12-->
<category> 
<pattern>Cual es la capital de <set>pais</set></pattern>
<template> La capital de <star/> es <map name="capital"><star/></map>.</template> 
</category>

<!-- Regla 13-->
<category> 
<pattern>Cual es la capital de *</pattern>
<template> No lo se </template> 
</category>






<!-- Regla 14-->
<category>
<pattern>^ cafe ^</pattern>
<template> Te gusta el cafe</template>
</category>

<!-- Regla 15-->
<category> 
<pattern>Si</pattern> 
<that> Te gusta el cafe </that> 
<template> Lo prefieres solo o con leche</template> 
</category>

<!-- Regla 16 -->
<category>
<pattern> Cuenta hasta <set>number</set> </pattern>
<template>
	<think>
		<set var="cont">1</set>
		<set var="out">1</set>
	</think>
	<condition var="cont">
		<li><value><star/></value><get var="out"/></li>
		<li>
			<think>
			<set var="cont">
				<map name="successor"><get var="cont"/></map>
			</set>
			<set var="out"><get var="out"/>, <get var="cont"/></set>
			</think>
			<loop/>
		</li>
	</condition>
</template>
</category>
	
<!-- Regla LOG -->	
<category>
<pattern>DIALOGDONE</pattern>
<template> Este es un histórico del diálogo mantenido hasta la
fecha con el bot <bot name=“name"/> de profundidad 5:
Human: <request index="5"/>
<bot name="name"/>: <response index="5"/>
Human: <request index="4"/>
<bot name="name"/>: <response index="4"/>
Human: <request index="3"/>
<bot name="name"/>: <response index="3"/>
Human: <request index="2"/>
<bot name="name"/>: <response index="2"/>
Human: <request index="1"/>
<bot name="name"/>: <response index="1"/>
</template>
</category>
	
<addset><new>austria</new>paises</addset>
	
<addset><new>portugal</new>paises</addset>	
	
<addmap>barrios</addmap>
	
<addmap><new>austria:viena</new>capital</addmap>
	
<addmap><new>portugal:lisboa</new>capital</addmap>
	
<addset>ciudades</addset>
	
<addset><new>madrid</new>ciudades</addset>
	
<addset><new>bilbao</new>ciudades</addset>
	
	
	
<botprop><name>amigos</name><val>juan</val></botprop>
	
<botprop><name>equipo</name><val>rapido_de_bouzas</val></botprop>

<mail>
 <subject>contratacion urgente</subject>
 <to>felipe@mail.gal</to>
 <msg>en relacion con la entrevista de trabajo reallizada me complace informarle que hemos decidido contratar sus servicios, por lo que le rogamos pase por nuestras oficinas el proximo lunes ...</msg>
 </mail>	

</aiml>
